# ==============================================================================
# Zelda3 Configuration File
# ==============================================================================
# This file configures the Zelda3 reverse-engineered port of A Link to the Past.
#
# Note: zelda3.user.ini is loaded first if it exists, otherwise this file is used.
# You can use "!include path/to/file.ini" to include other config files.
#
# Boolean values accept: 0/1, true/false, yes/no, on/off
# ==============================================================================

[General]
# ------------------------------------------------------------------------------
# General Game Settings
# ------------------------------------------------------------------------------

# Automatically save state on quit and reload on start
# (default: 0, accepts: 0/1)
Autosave = 0

# Display performance metrics in window title
# Shows FPS and frame timing information
# (default: 0, accepts: 0/1)
DisplayPerfInTitle = 0

# Disable the SDL_Delay that happens each frame
# Only enable if your display is exactly 60Hz for slightly better performance
# (default: 0, accepts: 0/1)
DisableFrameDelay = 0

# ------------------------------------------------------------------------------
# Display Configuration
# ------------------------------------------------------------------------------

# Extended aspect ratio - widescreen support
# (default: 4:3, accepts: 4:3, 16:9, 16:10, 18:9)
#
# Options (comma-separated):
#   - Aspect ratio: 4:3 (original), 16:9, 16:10, or 18:9
#   - extend_y: Display 240 lines instead of 224 (add before aspect ratio)
#   - unchanged_sprites: Preserve original sprite spawn/die behavior for replay compatibility
#   - no_visual_fixes: Disable graphics glitch fixes (affects memory compare but not gameplay)
#
# Examples:
#   ExtendedAspectRatio = 16:9
#   ExtendedAspectRatio = extend_y, 16:9
#   ExtendedAspectRatio = 16:9, unchanged_sprites
ExtendedAspectRatio = extend_y, 16:9

# ------------------------------------------------------------------------------
# Language Settings
# ------------------------------------------------------------------------------

# Set which language to use
# Requires appropriate asset file created with restool.py
# (default: none/English, accepts: de, fr, etc.)
#
# To create assets for other languages:
#   python restool.py --extract-dialogue -r german.sfc
#   python restool.py --languages=de
#
# Language = de


[Graphics]
# ------------------------------------------------------------------------------
# Window & Display Settings
# ------------------------------------------------------------------------------

# Window size in pixels
# (default: Auto, accepts: Auto or WidthxHeight like 1024x768)
# Auto calculates size based on WindowScale
WindowSize = Auto

# Window scale multiplier when WindowSize is Auto
# (default: 3, accepts: 1-10)
# 1=256x224, 2=512x448, 3=768x672, etc.
WindowScale = 3

# Fullscreen mode
# (default: 0, accepts: 0/1/2)
#   0 = Windowed
#   1 = Desktop fullscreen (recommended, borderless window)
#   2 = Fullscreen with mode change (may cause display switching)
Fullscreen = 0

# Ignore aspect ratio when scaling
# (default: 0, accepts: 0/1)
# Enable to stretch image to fill window
IgnoreAspectRatio = 0

# ------------------------------------------------------------------------------
# Rendering Settings
# ------------------------------------------------------------------------------

# Output rendering method
# (default: SDL, accepts: SDL, SDL-Software, OpenGL, OpenGL ES, Vulkan)
#   SDL          = Hardware-accelerated (recommended)
#   SDL-Software = Software rendering (better for Raspberry Pi)
#   OpenGL       = OpenGL 3.3+ (required for custom shaders)
#   OpenGL ES    = OpenGL ES (mobile/embedded)
#   Vulkan       = Vulkan 1.0 (cross-platform, requires Vulkan SDK or MoltenVK on macOS)
OutputMethod = SDL

# Use linear filtering for smoother pixels
# (default: 0, accepts: 0/1)
# Disable for crisp, pixelated look. Works with SDL and OpenGL.
LinearFiltering = 0

# Use optimized SNES PPU renderer
# (default: 1, accepts: 0/1)
# Faster but potentially less accurate than original renderer
# See also: ToggleRenderer key (default: 'r') to switch at runtime
NewRenderer = 1

# Display the world map with higher resolution
# (default: 1, accepts: 0/1)
# Enhanced Mode 7 rendering for smoother map rotation
EnhancedMode7 = 1

# Remove SNES sprite limit (8 sprites per scanline)
# (default: 1, accepts: 0/1)
# Eliminates sprite flickering
NoSpriteLimits = 1

# Recreate Virtual Console flash dimming
# (default: 0, accepts: 0/1)
# Lessens flashing effects (accessibility feature)
DimFlashes = 0

# ------------------------------------------------------------------------------
# Graphics Customization
# ------------------------------------------------------------------------------

# Custom Link sprite (ZSPR format)
# (default: none, accepts: path to .zspr file)
# Browse sprites: https://snesrev.github.io/sprites-gfx/snes/zelda3/link/
# Download: git clone https://github.com/snesrev/sprites-gfx.git
#
# LinkGraphics = sprites-gfx/snes/zelda3/link/sheets/megaman-x.2.zspr

# GLSL shader (OpenGL output method only)
# (default: none, accepts: path to .glsl or .glslp file)
# Get shaders: git clone https://github.com/snesrev/glsl-shaders
#
# Shader =


[Sound]
# ------------------------------------------------------------------------------
# Audio Settings
# ------------------------------------------------------------------------------

# Enable audio output
# (default: 1, accepts: 0/1)
EnableAudio = 1

# Audio sample rate in Hz
# (default: 44100, accepts: 11025, 22050, 32000, 44100, 48000)
# Use 44100 for PCM MSU, 48000 for OPUZ MSU
AudioFreq = 44100

# Number of audio channels
# (default: 2, accepts: 1=mono, 2=stereo)
AudioChannels = 2

# Audio buffer size in samples (power of 2)
# (default: 512, accepts: 256, 512, 1024, 2048, 4096)
# Lower = less latency but may cause crackling
# Higher = more latency but smoother playback
AudioSamples = 512

# ------------------------------------------------------------------------------
# MSU Audio (Custom Music)
# ------------------------------------------------------------------------------

# Enable MSU audio support for custom soundtracks
# (default: false, accepts: false, true, deluxe, opuz, deluxe-opuz)
#   false        = Disabled
#   true         = MSU PCM format (requires AudioFreq = 44100)
#   deluxe       = MSU Deluxe PCM
#   opuz         = OPUZ format (~10% file size, requires AudioFreq = 48000)
#   deluxe-opuz  = MSU Deluxe OPUZ
EnableMSU = false

# Path to MSU files (number and extension appended automatically)
# (default: msu/alttp_msu-, accepts: any path prefix)
# Example: msu/alttp_msu- loads msu/alttp_msu-1.pcm, msu/alttp_msu-2.pcm, etc.
MSUPath = msu/alttp_msu-

# Resume MSU position when re-entering overworld area
# (default: 1, accepts: 0/1)
# Remembers playback position for one area
ResumeMSU = 1

# MSU playback volume
# (default: 100%, accepts: 0-100 with or without % sign)
MSUVolume = 100%


[Features]
# ==============================================================================
# Enhanced Features
# ==============================================================================
# All features are disabled by default to preserve original game behavior.
# These features are optional enhancements and may affect replay compatibility.
# ==============================================================================

# ------------------------------------------------------------------------------
# Control Enhancements
# ------------------------------------------------------------------------------

# Item switching with L/R shoulder buttons
# (default: 0, accepts: 0/1)
#
# Enables:
#   - L/R to cycle through items
#   - Y+direction to reorder items in inventory
#   - Hold X/L/R in item menu to assign items to those buttons
#   - Select opens map when X is reassigned
#   - Select while paused to save/quit
ItemSwitchLR = 0

# Limit ItemSwitchLR cycling to first 4 items only
# (default: 0, accepts: 0/1)
# Requires ItemSwitchLR = 1
ItemSwitchLRLimit = 0

# Allow Link to turn while dashing
# (default: 0, accepts: 0/1)
# Normally Link can only dash in cardinal directions
TurnWhileDashing = 0

# ------------------------------------------------------------------------------
# Gameplay Modifications
# ------------------------------------------------------------------------------

# Allow magic mirror to warp TO the Dark World
# (default: 0, accepts: 0/1)
# Normally mirror only warps to Light World
MirrorToDarkworld = 0

# Collect items (hearts, rupees) with sword
# (default: 0, accepts: 0/1)
# Normally requires touching items
CollectItemsWithSword = 0

# Break pots with level 2-4 sword
# (default: 0, accepts: 0/1)
# Normally requires lifting or dashing
BreakPotsWithSword = 0

# Allow more active bombs (4 instead of 2)
# (default: 0, accepts: 0/1)
MoreActiveBombs = 0

# Increase rupee capacity to 9999 (instead of 999)
# (default: 0, accepts: 0/1)
CarryMoreRupees = 0

# Cancel bird travel by pressing X
# (default: 0, accepts: 0/1)
CancelBirdTravel = 0

# ------------------------------------------------------------------------------
# Interface & Quality of Life
# ------------------------------------------------------------------------------

# Disable low health warning beep
# (default: 0, accepts: 0/1)
DisableLowHealthBeep = 0

# Skip intro sequence on any keypress
# (default: 0, accepts: 0/1)
# Speeds up game start
SkipIntroOnKeypress = 0

# Show max items with orange/yellow color in HUD
# (default: 0, accepts: 0/1)
# Visual indicator when rupees/bombs/arrows are maxed
ShowMaxItemsInYellow = 0

# ------------------------------------------------------------------------------
# Bug Fixes
# ------------------------------------------------------------------------------

# Enable miscellaneous bug fixes from original game
# (default: 0, accepts: 0/1)
# Fixes various minor bugs while preserving core gameplay
# See ARCHITECTURE.md for list of fixes
MiscBugFixes = 0

# Enable game-changing bug fixes
# (default: 0, accepts: 0/1)
# Fixes bugs that noticeably affect gameplay/mechanics
# May break replays from original game
GameChangingBugFixes = 0

# ------------------------------------------------------------------------------
# Experimental Features
# ------------------------------------------------------------------------------

# Pokemode - Pokemon-style monster capture system (EXPERIMENTAL)
# (default: 0, accepts: 0/1)
# Capture enemies and NPCs with the Bug Net and store them in bottles
# Release captured sprites to fight alongside you as friendly companions
# Supported captures: Ravens, Vultures, Guards, Princess Zelda, followers, and more
# Some sprites become friendly AI that attack nearby enemies
# Bottles display a flute icon when containing captured sprites
# WARNING: Experimental feature, may affect gameplay balance and replays
Pokemode = 0

# Princess Zelda follower mode (EXPERIMENTAL)
# (default: 0, accepts: 0/1)
# Allows Princess Zelda to become a follower companion outside normal story sequence
# Works in conjunction with Pokemode - can capture and release Zelda
# After healing Link at sanctuary, Zelda becomes a permanent follower
# WARNING: Experimental feature, may affect story progression and replays
PrincessZeldaHelps = 0


[KeyMap]
# ==============================================================================
# Keyboard Controls
# ==============================================================================
# Customize keyboard bindings for all game functions.
# Format: key names from SDL, supports modifiers (Shift+, Ctrl+, Alt+)
# ==============================================================================

# ------------------------------------------------------------------------------
# Main Game Controls
# ------------------------------------------------------------------------------

# SNES controller button mapping
# Order: Up, Down, Left, Right, Select, Start, A, B, X, Y, L, R
#
# Default for QWERTY keyboards:
Controls = Up, Down, Left, Right, Right Shift, Return, X, Z, S, A, C, V

# Alternative layouts (uncomment to use):
#
# QWERTZ keyboards:
#Controls = Up, Down, Left, Right, Right Shift, Return, x, y, s, a, c, v
#
# AZERTY keyboards:
#Controls = Up, Down, Left, Right, Right Shift, Return, x, w, s, q, c, v

# ------------------------------------------------------------------------------
# Save State Management
# ------------------------------------------------------------------------------

# Load save state (F1-F10)
Load =      F1,     F2,     F3,     F4,     F5,     F6,     F7,     F8,     F9,     F10

# Save state (Shift+F1 through Shift+F10)
Save = Shift+F1,Shift+F2,Shift+F3,Shift+F4,Shift+F5,Shift+F6,Shift+F7,Shift+F8,Shift+F9,Shift+F10

# Replay state (Ctrl+F1 through Ctrl+F10)
Replay= Ctrl+F1,Ctrl+F2,Ctrl+F3,Ctrl+F4,Ctrl+F5,Ctrl+F6,Ctrl+F7,Ctrl+F8,Ctrl+F9,Ctrl+F10

# Load reference saves (uncomment to enable)
#LoadRef = 1,2,3,4,5,6,7,8,9,0,-,=,Backspace

# Replay reference saves (uncomment to enable)
#ReplayRef = Ctrl+1,Ctrl+2,Ctrl+3,Ctrl+4,Ctrl+5,Ctrl+6,Ctrl+7,Ctrl+8,Ctrl+9,Ctrl+0,Ctrl+-,Ctrl+=,Ctrl+Backspace

# ------------------------------------------------------------------------------
# Cheat Keys (Development/Testing)
# ------------------------------------------------------------------------------

# Refill health and magic to full
# Sets both health and magic to maximum (80 hearts, 80 magic)
CheatLife = W

# Set key count to 1
# Note: Sets key count to 1, does not add keys incrementally
CheatKeys = O

# Give bombs, arrows, and rupees
# Gives 10 bombs, 10 arrows, and 100 rupees
# CheatEquipment = Shift+w

# Walk through walls
# Toggles collision detection on/off
CheatWalkThroughWalls = Ctrl+E

# ------------------------------------------------------------------------------
# Debug & Replay Tools
# ------------------------------------------------------------------------------

# Clear input recording log
# Clears the replay system's input log (used for debugging replays)
ClearKeyLog = K

# Stop replay playback
# Stops the currently playing replay
StopReplay = L

# Toggle fullscreen
Fullscreen = Alt+Return

# Reset game
Reset = Ctrl+R

# Pause (dimmed - can see game)
PauseDimmed = P

# Pause (full pause)
Pause = Shift+P

# Fast-forward (turbo)
Turbo = Tab

# Replay turbo mode
ReplayTurbo = T

# Increase window size
WindowBigger = Ctrl+Up

# Decrease window size
WindowSmaller = Ctrl+Down

# Increase volume
VolumeUp = Shift+H

# Decrease volume
VolumeDown = Shift+N


[GamepadMap]
# ==============================================================================
# Gamepad Controls
# ==============================================================================
# Configure physical gamepad/controller button mappings.
# ALL keyboard commands from [KeyMap] can be bound to gamepad buttons.
#
# Button names:
#   Face buttons: A, B, X, Y
#   D-pad: DpadUp, DpadDown, DpadLeft, DpadRight
#   Shoulders: L1/Lb, R1/Rb (bumpers), L2, R2 (triggers)
#   System: Start, Back, Guide
#   Thumbsticks: L3 (left stick click), R3 (right stick click)
#
# Modifiers: Use + to combine buttons (e.g., "L1+A" = hold L1 and press A)
# Multiple modifiers: "L1+R1+A" = hold both shoulders and press A
# ==============================================================================

# ------------------------------------------------------------------------------
# Main Game Controls
# ------------------------------------------------------------------------------

# SNES controller button mapping for gamepad
# Order: Up, Down, Left, Right, Select, Start, A, B, X, Y, L, R
Controls = DpadUp, DpadDown, DpadLeft, DpadRight, Back, Start, B, A, Y, X, Lb, Rb

# ------------------------------------------------------------------------------
# Quick Save/Load
# ------------------------------------------------------------------------------

# Quick Save to slot 1 (L2+R3)
Save = L2+R3

# Quick Load from slot 1 (L2+L3)
Load = L2+L3

# ------------------------------------------------------------------------------
# Optional: Additional Gamepad Bindings
# ------------------------------------------------------------------------------
# Uncomment and customize any of these examples to add extra functionality
# to your gamepad. Useful for save states, turbo, cheats, etc.

# Save states (example: L2+face buttons for slots 1-4)
#Save = L2+A, L2+B, L2+X, L2+Y

# Load states (example: R2+face buttons for slots 1-4)
#Load = R2+A, R2+B, R2+X, R2+Y

# Replay states (example: L2+R2+face buttons)
#Replay = L2+R2+A, L2+R2+B, L2+R2+X, L2+R2+Y

# Turbo mode (hold for fast-forward)
#Turbo = L3

# Pause (dimmed, can still see game)
#PauseDimmed = Guide

# Reset game
#Reset = L1+R1+Start

# Fullscreen toggle
#Fullscreen = L3+R3

# Volume controls
#VolumeUp = DpadUp+L1
#VolumeDown = DpadDown+L1

# Cheats (example bindings)
#CheatLife = L2+R2+Start
#CheatKeys = L2+R2+Back
#CheatWalkThroughWalls = L1+R1+Back

# Toggle renderer (switch between PPU implementations)
#ToggleRenderer = L1+R1+Guide

# Display performance metrics
#DisplayPerf = L2+R2+Guide
